---
title: "[25/07/28] - 클라우드 보안 (6일차)"
date: 2025-07-28 00:00:00 +0900
categories: ['SK 루키즈 교육', '클라우드 보안']
tags: ['교육']
---



---

# ▪︎ VPC 엔드포인트

## ▫︎  종류

- 인터페이스 유형
- 게이트웨이 유형

# ▪︎ AWS 실습

![image_01](/assets/img/sk_shieldus_26/250728_image_01.png)

## ▫︎  EC2

- 이름 : Bastion
    - 키 페어 설정
    - 네트워크 설정
        - 서브넷 → MyPubSubnet
        - 퍼블릭 IP 활성화
- 이름 : Prinode
    - 키 페어 설정
    - 네트워크 설정
        - 서브넷 → 위 가용영역과 같고 Pri Subnet

## ▫︎  S3

- 버킷 생성
- 업로드 → 파일 추가 → 키 페어(.pem) 파일 업로드

## ▫︎  EC2

- Bastion 노드 클릭 → 연결
- aws configure
    - Access Key ID, Secret Access Key 입력
    - region : ap-northeast-2
    - output format : json
    - 입력
        
        ```bash
        
         − aws s3 ls
         − aws s3 ls s3://bunketname
         − aws s3 cp s3://bunketname/PriKeyFileName  .
         − ls
         − chmod 400 PriKeyFileName
         − ssh -i PriKeyFileName ec2
        		user@PriNodeIP
        
        ```
        
- ssh로 prinode에 접속
    - 프라이빗 IP : 10.0.3.161

## ▫︎  VPC

- 엔드포인트 생성
    - kbkvpcendpoint01
    - 유형:  AWS 서비스
    - 서비스 : S3 → Gateway 유형
    - VPC : MyVPC
    - 라우팅 테이블 : PriRT (기존 private 라우팅 테이블 연결 후 확인)
        
![image_02](/assets/img/sk_shieldus_26/250728_image_02.png)
        

## ▫︎  EC2

- 다시 aws configure로 설정
- 이후 `aws s3 ls` 입력해서 잘 접속되는지 확인
    
![image_03](/assets/img/sk_shieldus_26/250728_image_03.png)
    

## ▫︎  삭제

- VPC 엔드포인트 삭제 → S3 삭제 → EC2들 종료

# ▪︎ AWS 컨테이너 서비스

## ▫︎  컨테이너

- 가상화 방식 애플리케이션 해결하기 위한 프로세스 격리 방안
- 애플리케이션 코드 + 런타임 + 라이브러리 + 시스템 도구 등을 하나의 인스턴스로 패키징
- 컨테이너 오케스트레이션 : 컨테이너를 자동으로 시작, 중지 및 관리

# ▪︎ 모니터링

## ▫︎  모니터링

- 장애에 대한 미연 방지
- 사고에 대한 신속 대응을 위한 서비스 상태 파악

## ▫︎  CloudWatch

- 주요 기능
    - 수집
    - 모니터링
    - 액션 : 주로 경보 기능
- 지표
    
![image_04](/assets/img/sk_shieldus_26/250728_image_04.png)
    
- 경보(알람)
    
![image_05](/assets/img/sk_shieldus_26/250728_image_05.png)
    

## ▫︎  Amazon CloudTrail

- AWS 모든 이벤트 로그(+콘솔 로그인 이벤트)
    - Who
    - When
    - What
    
    ```bash
     {"Records": [{
    	 "eventVersion": "1.0",
    	 "userIdentity": {
    	 "type": "IAMUser",
    	 "principalId": "EX_PRINCIPAL_ID",
    	 "arn": "arn:aws:iam::123456789012:user/Alice",
    	 "accountId": "123456789012",
    	 "accessKeyId": "EXAMPLE_KEY_ID",
    	 "userName": "Alice"
     },
    ```
    

# ▪︎ AWS 실습1

## ▫︎  CloudTrail

- 추적 생성
    - 이름 : ctkbk
    - s3 버킷 생성
    - 로그 파일 SSE-KMS 암호화 활성화 해제

## ▫︎  EC2 생성

- 인스턴스 시작
    - 이름 : mytestserver
    - 퍼블릭 IP 활성화

## ▫︎  CloudWatch

- 지표에서 EC2 리소스 ID 검색
    
![image_06](/assets/img/sk_shieldus_26/250728_image_06.png)
    

# ▪︎ AWS 실습2

## ▫︎  CloudWatch

- 경보 → 지표 생성
    - 지표 선택 : ec2 id
        - CPU Utilization
    - 기간 : 5분
    - 경보 조건 : 보다 큼
    - 임계값 : 20
    - 경보 상태
        - 새 주제 생성
        - 엔드포인트 주소 : 자기 이메일 주소
            - 이메일에 Confirm 해줘야함
    - 주제 생성
    - 경보 이름 : myalram01
    - 경보생성
- 모든 경부 → 생성한 경보 선택

## ▫︎  EC2

- 인스턴스에 연결
- 코드
    
    ```bash
    sudo yum install stress\
    sudo stress --timeout 600 --cpu 1
    ```
    

## ▫︎  CloudWatch

- 지표 → Metrics에서 그래프로 된 지표 확인
- 경보 발생시 상태 변경됨
    
![image_07](/assets/img/sk_shieldus_26/250728_image_07.png)
    
- 메일 확인
    
![image_08](/assets/img/sk_shieldus_26/250728_image_08.png)
    

# ▪︎ DNS

## ▫︎  도메인 이름?

![image_09](/assets/img/sk_shieldus_26/250728_image_09.png)

## ▫︎  Route53

- 가용성, 확장성 뛰어난 DNS 서비스
- 라우팅 정책
    - 단순 라우팅
    - 가중치 기반
    - 지연시간
    - 다중 응답
    - 장애 조치
    - 치리 위치

# ▪︎ 클라우드 보안

## ▫︎  보안의 3요소

- 기밀성(Confidentiality)
    - 인가된 사용자에게만 허가
    - 비밀스럽게 유지되며, 특정 인물만 볼 수 있는 기밀 정보
- 무결성(Integrity)
    - 부적절한 정보 변경이나 삭제로부터의 보호
- 가용성(Availability)
    - 신뢰할 수 있는 정보의 접근과 사용

## ▫︎  AWS 보안 혜택

- 안전한 데이터 유지
- 규정 준수 요구 준수
- 비용 절감
- 빠르고 간편한 확장

## ▫︎  공동 책임 모델

- AWS와 사용자간 책임 공유

## ▫︎  AWS 보안을 고려한 설계 접근 방식

- 요구사항 이해
- 요구사항에 맞춰 안전한 환경 구성
    - ex> S3 객체 데이터 암호화, IAM 권한 설정, 보안그룹 설정
- 템플릿 사용 강제 적용
- **검증 활동 수행**

## ▫︎  백업

- EC2, EBS, S3, 데이터베이스 데이터
    - 자산 분류, 위험 및 비용 등 고려한 보호 방법 결정
- 데이터 보호도 필요
    - IAM 권한 설정, 암호화 옵션
- EC2 : AMI, EBS 스냅샷 활용
- Database
    - RDS : 자동 백업 저장(0~35일)
    - Aurora : 보존 기간 내 신속 복원 가능(1~35일 지정 가능)
    - DynamoDB : 특정시점 복구를 위한 자동 백업(~35일)
- S3 :  리전간 복제 고려
- AWS Backup : Cloud Backup 솔루션